<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>HTTP - networking-book</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././mdbook-admonish.css">
        <link rel="stylesheet" href=".././theme/catppuccin.css">
        <link rel="stylesheet" href=".././theme/catppuccin-highlight.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../preface.html">Preface</a></li><li class="chapter-item expanded affix "><a href="../osi-model.html">OSI model</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Topology</li><li class="chapter-item expanded "><a href="../cloud-topology.html">Cloud</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Layer 7: Application</li><li class="chapter-item expanded "><a href="../layer-7/index.html">Overview</a></li><li class="chapter-item expanded "><a href="../layer-7/http.html">HTTP</a></li><li><ol class="section"><li class="chapter-item expanded "><div>Browser</div></li></ol></li><li class="chapter-item expanded "><a href="../layer-7/http-another.html" class="active">HTTP</a></li><li class="chapter-item expanded "><a href="../layer-7/https.html">HTTPS</a></li><li class="chapter-item expanded "><a href="../layer-7/ssh.html">SSH</a></li><li class="chapter-item expanded "><a href="../layer-7/ssl.html">SSL/TLS</a></li><li class="chapter-item expanded "><a href="../layer-7/dns.html">DNS</a></li><li class="chapter-item expanded "><a href="../layer-7/telnet.html">Telnet</a></li><li class="chapter-item expanded "><a href="../layer-7/websocket.html">WebSocket</a></li><li class="chapter-item expanded "><a href="../layer-7/bgp.html">BGP</a></li><li class="chapter-item expanded "><a href="../layer-7/dhcp.html">DHCP</a></li><li class="chapter-item expanded "><a href="../layer-7/pop-imap.html">POP, IMAP</a></li><li class="chapter-item expanded "><a href="../layer-7/smtp.html">SMTP</a></li><li class="chapter-item expanded "><div>SFTP</div></li><li class="chapter-item expanded "><div>BitTorrent</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Layer 4: Transport</li><li class="chapter-item expanded "><a href="../layer-4/transport-layer.html">Overview</a></li><li class="chapter-item expanded "><a href="../layer-4/tcp.html">TCP</a></li><li class="chapter-item expanded "><a href="../layer-4/udp.html">UDP</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Layer 3: Network (Internet)</li><li class="chapter-item expanded "><a href="../layer-3/network-layer.html">Overview</a></li><li class="chapter-item expanded "><a href="../layer-3/ipv4.html">IP</a></li><li class="chapter-item expanded "><a href="../layer-3/icmp.html">ICMP</a></li><li class="chapter-item expanded "><a href="../layer-3/ipsec.html">IPSec</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Layer 1: Physical/Datalink</li><li class="chapter-item expanded "><a href="../layer-1/index.html">Overview</a></li><li class="chapter-item expanded "><a href="../layer-1/arp.html">ARP</a></li><li class="chapter-item expanded "><div>802.11 WiFi</div></li><li class="chapter-item expanded "><div>802.3 Ethernet</div></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../standards.html">Standards</a></li><li class="chapter-item expanded "><div>Tings</div></li><li><ol class="section"><li class="chapter-item expanded "><div>Gateway</div></li><li class="chapter-item expanded "><div>Router</div></li><li class="chapter-item expanded "><a href="../access-networks.html">Access networks</a></li><li class="chapter-item expanded "><div>NAT</div></li><li class="chapter-item expanded "><div>NIC</div></li><li class="chapter-item expanded "><a href="../socket.html">Socket</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Network architectures</li><li class="chapter-item expanded "><div>Client-server</div></li><li class="chapter-item expanded "><div>P2P</div></li><li class="chapter-item expanded "><div>Hybrid</div></li><li class="chapter-item expanded "><div>Data centres</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">What happens when you</li><li class="chapter-item expanded "><a href="../what-happens.html">Type a URL on the browser</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../troubleshooting.html">Troubleshooting</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frapp√©</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">networking-book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/remykarem/remykarem.github.io/edit/main/books/networking-book/src/layer-7/http-another.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="http"><a class="header" href="#http">HTTP</a></h1>
<p>HyperText Text Transfer Protocol.</p>
<p>HTTP is a client-server application layer protocol.</p>
<p>HTTP is a request-response protocol that defines format of messages to be exchanged between web clients and web servers. It is a stateless protocol in which no session information is retained by the server. This means that if a client requests the same object multiple times in a row, the serve would send it and would not know that the same client is requesting the same object repeatedly.</p>
<hr />
<p><img src="./http1.png" alt="HTTP request headers" /></p>
<p><img src="./http2.png" alt="HTTP response headers" /></p>
<hr />
<p>‚ÄúPayload‚Äù = part of transmitted data that is the actual intended message.</p>
<h1 id="types-of-http-connections"><a class="header" href="#types-of-http-connections"><strong>Types of HTTP connections</strong></a></h1>
<ul>
<li>
<p>Non-persistent HTTP connections</p>
<ol>
<li>The client initiates a TCP connection with a server.</li>
<li>The client sends an HTTP request to the server.</li>
<li>The server retrieves the requested resource from its storage etc. and sends it back to the client.</li>
<li>THe client receives the resource, say an HTML. If that file has references to more resources, steps 1-4 are repeated for each of those.</li>
<li>The server closes the TCP connection.</li>
</ol>
</li>
<li>
<p>Persistent HTTP connections</p>
<p>Because an HTTP session typically involves multiple non-persistent HTTP connections, the TCP connections which are established and torn down multiple times are inefficient. Persistent HTTP connections are developed such that the duration of the time before the server closes the connection is configurable. Hence, only 1 TCP connection is used to serve multiple requests.</p>
</li>
</ul>
<h1 id="http-session"><a class="header" href="#http-session"><strong>HTTP session</strong></a></h1>
<p>An HTTP session is a sequence of network request-response transactions.</p>
<ol>
<li>An HTTP client initiates a request by establishing a TCP connection to a particular port on the HTTP server.</li>
<li>The HTTP server listening on that port waits for a client‚Äôs request message.</li>
<li>Upon receiving the request, the server sends back a status line and a message.</li>
</ol>
<h1 id="http-messages"><a class="header" href="#http-messages"><strong>HTTP messages</strong></a></h1>
<p><strong>HTTP messages are in plain ASCII text</strong></p>
<ul>
<li>
<p>Request</p>
<pre><code>GET /index.html HTTP/1.1    Request line (method, URL, version)
Host: www.google.com        Header line
Connection: keep-alive      Header line
User-Agent: Mozilla/5.0     Header line
Accept-language: fr.        Header line
Accept: text/html           Header line
\r\n

Other headers:
Cookie: value
</code></pre>
</li>
<li>
<p>Response</p>
<pre><code>HTTP/1.1 200 OK             Status
Connection: close           Header line
Date: Tue, 18 Aug 2020 ...  Header line (date of response)
Server: www.google.com      Header line
Last-Modified: ...          Header line (date object last mod)
Content-Length: 16824       Header line (bytes)
Content-Type: text/html     Header line
\n
&lt;binary data&gt;               Object

Other headers:
Set-cookie: value
</code></pre>
</li>
<li>
<p>Route/path</p>
</li>
<li>
<p>query parameter</p>
</li>
<li>
<p>Body</p>
<ul>
<li>JSON</li>
<li>
<h2 id="form-fields"><a class="header" href="#form-fields">Form fields</a></h2>
</li>
</ul>
</li>
<li>
<p>Header</p>
</li>
</ul>
<h2 id="content-types-encoding"><a class="header" href="#content-types-encoding">Content types (encoding)</a></h2>
<p><code>application/x-www-form-urlencoded</code> (POST)</p>
<p>Normal</p>
<pre><code>POST /test HTTP/1.1
Host: foo.example
Content-Type: application/x-www-form-urlencoded
Content-Length: 27

field1=value1&amp;field2=value2
</code></pre>
<p><code>multipart/form-data</code> (POST)</p>
<p>When there are files</p>
<pre><code>POST /test HTTP/1.1 
Host: foo.example
Content-Type: multipart/form-data;boundary=&quot;boundary&quot; 

--boundary 
Content-Disposition: form-data; name=&quot;field1&quot; 

value1 
--boundary 
Content-Disposition: form-data; name=&quot;field2&quot;; filename=&quot;example.txt&quot; 

value2
--boundary--
</code></pre>
<p><code>text/plain</code> (POST)</p>
<h1 id="http-methods"><a class="header" href="#http-methods">HTTP methods</a></h1>
<ul>
<li>
<p>GET - fetch an existing resource</p>
</li>
<li>
<p>POST - create a new resource</p>
</li>
<li>
<p>HEAD - fetch HTTP headers sent</p>
</li>
<li>
<p>DELETE - delete an existing resource</p>
</li>
<li>
<p>PUT - update an existing resource</p>
</li>
<li>
<p>OPTIONS</p>
<pre><code class="language-bash">curl -X OPTIONS https://google.com -i
</code></pre>
<ul>
<li>Identify allowed request methods (eg. GET etc.). Response contains an <code>Allow</code> header.</li>
<li>Preflighted requests in CORS</li>
</ul>
</li>
</ul>
<h1 id="http-headers"><a class="header" href="#http-headers">HTTP headers</a></h1>
<p>(basic)</p>
<ul>
<li>
<p><strong>Date</strong>: Sat, 03 Jul 2021 07:23:23 GMT</p>
</li>
<li>
<p><strong>Server</strong>: nginx</p>
</li>
<li>
<p><strong>Content-Length</strong>: 1125</p>
<p>Entity's body size (bytes)</p>
</li>
<li>
<p><strong>Content-Type</strong>: text/html; charset=utf-8</p>
<p>Resource's media type</p>
</li>
</ul>
<p>(security)</p>
<ul>
<li>
<p><strong>Strict-Transport-Security</strong>: max-age=31536000; includeSubDomains</p>
<p>Tell a browser you should only load the website in HTTPS. Here is one year.</p>
</li>
<li>
<p><strong>Content-Security-Policy</strong>: ****default-src 'self'; ****style-src 'self'; ****script-src 'self'; object-src 'self'; connect-src 'self'; frame-src 'self'; image-src 'self'</p>
<p>Whether to load assets (eg. documents, CSS, images, JavaScript)</p>
<aside>
  üö® XSS, data injection
</aside>
<p>https://report-uri.com/home/analyse/</p>
<p>There's a <strong>Content-Security-Policy-Report-Only</strong> header for debugging purposes.</p>
</li>
<li>
<p><strong>X-Frame-Options</strong>: {DENY, SAMEORIGIN, ALLOW-FROM https://example.com}</p>
<p>Whether to allow your website to be <em>framed</em> or not.</p>
<aside>
  üö® Clickjacking
</aside>
</li>
<li>
<p><strong>X-Content-Type-Options</strong>: nosniff</p>
<p>Whether the browser can <em>MIME-sniff</em> the resource. MIME-sniffing happens (for some web browsers) to determine the content of an asset. Specific to IE and Chrome. With clever naming, a resource can be determined to be an HTML document which has malicious script.</p>
<aside>
  üö® XSS
</aside>
</li>
<li>
<p><strong>Referrer-Policy</strong>: no-referrer</p>
<p>Tell the browser how much information to put in this header when navigating away from the document.</p>
<aside>
  üö® Privacy
</aside>
</li>
</ul>
<p>(new)</p>
<ul>
<li><strong>X-Processing-Time:</strong> 0.061</li>
</ul>
<p><a href="https://securityheaders.com/">https://securityheaders.com</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../layer-7/http.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../layer-7/https.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../layer-7/http.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../layer-7/https.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../mermaid.min.js"></script>
        <script type="text/javascript" src="../mermaid-init.js"></script>


    </body>
</html>
